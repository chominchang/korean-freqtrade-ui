{"version":3,"file":"TradeDetail-DC96I04h.js","sources":["../../src/components/ftbot/TradeDetail.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport type { Trade } from '@/types';\r\n\r\nconst colorStore = useColorStore();\r\n\r\ndefineProps({\r\n  trade: { required: true, type: Object as () => Trade },\r\n  stakeCurrency: { required: true, type: String },\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div class=\"text-start grid grid-cols-1 lg:grid-cols-2 gap-4 px-2\">\r\n    <div class=\"\">\r\n      <h5 class=\"detail-header\">General</h5>\r\n      <ValuePair description=\"Trade Id\">{{ trade.trade_id }}</ValuePair>\r\n      <ValuePair description=\"Pair\">{{ trade.pair }}</ValuePair>\r\n\r\n      <ValuePair description=\"Open date\">{{ timestampms(trade.open_timestamp) }}</ValuePair>\r\n      <ValuePair v-if=\"trade.enter_tag\" description=\"Entry tag\">{{ trade.enter_tag }}</ValuePair>\r\n      <ValuePair v-if=\"trade.is_open\" description=\"Stake\"\r\n        >{{ formatPriceCurrency(trade.stake_amount, stakeCurrency) }}\r\n        {{ trade.leverage && trade.leverage !== 1 ? `(${trade.leverage}x)` : '' }}</ValuePair\r\n      >\r\n      <ValuePair v-if=\"!trade.is_open\" description=\"Total Stake\"\r\n        >{{ formatPriceCurrency(trade.max_stake_amount ?? trade.stake_amount, stakeCurrency) }}\r\n        {{ trade.leverage && trade.leverage !== 1 ? `(${trade.leverage}x)` : '' }}</ValuePair\r\n      >\r\n      <ValuePair description=\"Amount\">{{ trade.amount }}</ValuePair>\r\n      <ValuePair description=\"Open Rate\">{{ formatPrice(trade.open_rate) }}</ValuePair>\r\n      <ValuePair v-if=\"trade.is_open && trade.current_rate\" description=\"Current Rate\">{{\r\n        formatPrice(trade.current_rate)\r\n      }}</ValuePair>\r\n      <ValuePair v-if=\"!trade.is_open && trade.close_rate\" description=\"Close Rate\">{{\r\n        formatPrice(trade.close_rate)\r\n      }}</ValuePair>\r\n\r\n      <ValuePair v-if=\"trade.close_timestamp\" description=\"Close date\">{{\r\n        timestampms(trade.close_timestamp)\r\n      }}</ValuePair>\r\n      <ValuePair\r\n        v-if=\"trade.is_open && trade.realized_profit && !trade.total_profit_abs\"\r\n        description=\"Realized Profit\"\r\n      >\r\n        <TradeProfit class=\"ms-2\" :trade=\"trade\" mode=\"realized\" />\r\n      </ValuePair>\r\n      <ValuePair v-if=\"trade.is_open && trade.total_profit_abs\" description=\"Total Profit\">\r\n        <TradeProfit class=\"ms-2\" :trade=\"trade\" mode=\"total\" />\r\n      </ValuePair>\r\n      <ValuePair\r\n        v-if=\"trade.profit_ratio && trade.profit_abs\"\r\n        :description=\"`${trade.is_open ? 'Current Profit' : 'Close Profit'}`\"\r\n      >\r\n        <TradeProfit class=\"ms-2\" :trade=\"trade\" />\r\n      </ValuePair>\r\n      <details>\r\n        <summary>Details</summary>\r\n        <ValuePair v-if=\"trade.min_rate\" description=\"Min Rate\">{{\r\n          formatPrice(trade.min_rate)\r\n        }}</ValuePair>\r\n        <ValuePair v-if=\"trade.max_rate\" description=\"Max Rate\">{{\r\n          formatPrice(trade.max_rate)\r\n        }}</ValuePair>\r\n        <ValuePair description=\"Open-Fees\">\r\n          {{ trade.fee_open_cost }} {{ trade.quote_currency }}\r\n          <span v-if=\"trade.quote_currency !== trade.fee_open_currency\">\r\n            (in {{ trade.fee_open_currency }})\r\n          </span>\r\n          ({{ formatPercent(trade.fee_open) }})\r\n        </ValuePair>\r\n        <ValuePair v-if=\"trade.fee_close_cost && trade.fee_close\" description=\"Fees close\">\r\n          {{ trade.fee_close_cost }} {{ trade.fee_close_currency }} ({{\r\n            formatPercent(trade.fee_close)\r\n          }})\r\n        </ValuePair>\r\n      </details>\r\n    </div>\r\n    <div class=\"mt-2 lg:mt-0\">\r\n      <h5 class=\"detail-header\">Stoploss</h5>\r\n      <ValuePair description=\"Stoploss\">\r\n        {{ formatPercent(trade.stop_loss_pct / 100) }} |\r\n        {{ formatPrice(trade.stop_loss_abs) }}\r\n      </ValuePair>\r\n      <ValuePair\r\n        v-if=\"trade.initial_stop_loss_pct && trade.initial_stop_loss_abs\"\r\n        description=\"Initial Stoploss\"\r\n      >\r\n        {{ formatPercent(trade.initial_stop_loss_pct / 100) }} |\r\n        {{ formatPrice(trade.initial_stop_loss_abs) }}\r\n      </ValuePair>\r\n      <ValuePair\r\n        v-if=\"trade.is_open && trade.stoploss_current_dist_ratio && trade.stoploss_current_dist\"\r\n        description=\"Current stoploss dist\"\r\n      >\r\n        {{ formatPercent(trade.stoploss_current_dist_ratio) }} |\r\n        {{ formatPrice(trade.stoploss_current_dist) }}\r\n      </ValuePair>\r\n      <ValuePair v-if=\"trade.stoploss_last_update_timestamp\" description=\"Stoploss last updated\">\r\n        {{ timestampms(trade.stoploss_last_update_timestamp) }}\r\n      </ValuePair>\r\n      <div v-if=\"trade.trading_mode !== undefined && trade.trading_mode !== 'spot'\">\r\n        <h5 class=\"detail-header\">Futures/Margin</h5>\r\n        <ValuePair description=\"Direction\">\r\n          {{ trade.is_short ? 'short' : 'long' }} - {{ trade.leverage }}x\r\n        </ValuePair>\r\n        <ValuePair v-if=\"trade.funding_fees !== undefined\" description=\"Funding fees\">\r\n          {{ formatPrice(trade.funding_fees) }}\r\n        </ValuePair>\r\n        <ValuePair v-if=\"trade.interest_rate !== undefined\" description=\"Interest rate\">\r\n          {{ formatPrice(trade.interest_rate) }}\r\n        </ValuePair>\r\n        <ValuePair v-if=\"trade.liquidation_price !== undefined\" description=\"Liquidation Price\">\r\n          {{ formatPrice(trade.liquidation_price) }}\r\n        </ValuePair>\r\n      </div>\r\n      <details v-if=\"trade.orders\">\r\n        <summary>Orders {{ trade.orders.length > 1 ? `[${trade.orders.length}]` : '' }}</summary>\r\n        <div\r\n          v-for=\"(order, key) in trade.orders\"\r\n          :key=\"key\"\r\n          class=\"flex items-center gap-1 2\"\r\n          :title=\"`${order.ft_order_side} ${order.order_type} order for ${formatPriceCurrency(\r\n            order.amount,\r\n            trade.base_currency ?? '',\r\n          )} at ${formatPriceCurrency(\r\n            order.safe_price,\r\n            trade.quote_currency ?? '',\r\n          )}, filled ${formatPrice(order.filled)}`\"\r\n        >\r\n          (#{{ key + 1 }})\r\n          <i-mdi-triangle\r\n            v-if=\"order.ft_order_side === 'buy'\"\r\n            class=\"me-1 color-up\"\r\n            style=\"font-size: 0.6rem\"\r\n          />\r\n          <i-mdi-triangle-down v-else class=\"me-1 color-down\" style=\"font-size: 0.6rem\" />\r\n          <DateTimeTZ v-if=\"order.order_timestamp\" :date=\"order.order_timestamp\" show-timezone />\r\n          <b class=\"ms-1\" :class=\"order.ft_order_side === 'buy' ? 'color-up' : 'color-down'\">{{\r\n            order.ft_order_side\r\n          }}</b>\r\n          for <b>{{ formatPrice(order.safe_price) }}</b> |\r\n          <span v-if=\"order.remaining && order.remaining !== 0\" title=\"remaining\"\r\n            >{{ formatPrice(order.remaining, 8) }} /\r\n          </span>\r\n          <span title=\"Filled\">{{ formatPrice(order.filled ?? 0, 8) }}</span>\r\n          <template v-if=\"order.ft_order_tag\"> | {{ order.ft_order_tag ?? '' }}</template>\r\n        </div>\r\n      </details>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n@reference '../../styles/tailwind.css';\r\n\r\n.detail-header {\r\n  @apply text-xl font-semibold border-b pb-1 w-full block mb-1;\r\n}\r\n.color-up {\r\n  color: v-bind('colorStore.colorUp');\r\n}\r\n\r\n.color-down {\r\n  color: v-bind('colorStore.colorDown');\r\n}\r\n</style>\r\n"],"names":["colorStore","useColorStore"],"mappings":"4jDAGA,MAAMA,EAAaC,EAAc"}
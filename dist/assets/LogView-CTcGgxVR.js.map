{"version":3,"file":"LogView-CTcGgxVR.js","sources":["../../src/components/ftbot/LogViewer.vue","../../src/views/LogView.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { useBotStore } from '@/stores/ftbotwrapper';\r\n\r\nconst botStore = useBotStore();\r\nconst scrollContainer = ref<HTMLElement | null>(null);\r\n\r\nonMounted(async () => {\r\n  refreshLogs();\r\n});\r\n\r\nasync function refreshLogs() {\r\n  await botStore.activeBot.getLogs();\r\n  scrollToBottom();\r\n}\r\n\r\nfunction getLogColor(logLevel: string) {\r\n  switch (logLevel) {\r\n    case 'WARNING':\r\n      return 'text-yellow-500';\r\n    case 'ERROR':\r\n      return 'text-red-500';\r\n    default:\r\n      return 'text-surface-500';\r\n  }\r\n}\r\n\r\nfunction scrollToBottom() {\r\n  if (scrollContainer.value) {\r\n    scrollContainer.value.scrollTop = scrollContainer.value.scrollHeight;\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex h-full p-0 align-items-start\">\r\n    <div\r\n      ref=\"scrollContainer\"\r\n      class=\"border border-surface-500 p-1 text-start text-sm pb-5 w-full h-full overflow-auto\"\r\n    >\r\n      <pre\r\n        v-for=\"(log, index) in botStore.activeBot.lastLogs\"\r\n        :key=\"index\"\r\n        class=\"m-0 overflow-visible\"\r\n        style=\"line-height: unset\"\r\n      ><span class=\"text-surface-600 dark:text-surface-400\">{{ log[0] }} <span :class=\"getLogColor(log[3])\">{{ log[3].padEnd(7, ' ') }}</span> {{ log[2] }} - </span\r\n      ><span class=\"dark:text-surface-200\">{{ log[4] }}</span\r\n        ></pre>\r\n    </div>\r\n    <div class=\"flex flex-col gap-1 ms-1\">\r\n      <Button\r\n        id=\"refresh-logs\"\r\n        severity=\"secondary\"\r\n        size=\"small\"\r\n        title=\"로그 새로고침\"\r\n        @click=\"refreshLogs\"\r\n      >\r\n        <template #icon>\r\n          <i-mdi-refresh />\r\n        </template>\r\n      </Button>\r\n      <Button size=\"small\" title=\"맨 아래로 스크롤\" severity=\"secondary\" @click=\"scrollToBottom\">\r\n        <template #icon>\r\n          <i-mdi-arrow-down-thick />\r\n        </template>\r\n      </Button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"css\" scoped>\r\ntextarea {\r\n  width: 100%;\r\n  min-height: 6em;\r\n  resize: none;\r\n}\r\n</style>\r\n","<script setup lang=\"ts\"></script>\r\n\r\n<template>\r\n  <div class=\"p-1 md:p-4 md:pe-2 h-full\">\r\n    <LogViewer />\r\n  </div>\r\n</template>\r\n"],"names":["botStore","useBotStore","scrollContainer","ref","onMounted","refreshLogs","scrollToBottom","getLogColor","logLevel","_openBlock","_createElementBlock","_hoisted_1"],"mappings":"unBAGA,MAAMA,EAAWC,EAAY,EACvBC,EAAkBC,EAAwB,IAAI,EAEpDC,EAAU,SAAY,CACRC,EAAA,CAAA,CACb,EAED,eAAeA,GAAc,CACrB,MAAAL,EAAS,UAAU,QAAQ,EAClBM,EAAA,CAAA,CAGjB,SAASC,EAAYC,EAAkB,CACrC,OAAQA,EAAU,CAChB,IAAK,UACI,MAAA,kBACT,IAAK,QACI,MAAA,eACT,QACS,MAAA,kBAAA,CACX,CAGF,SAASF,GAAiB,CACpBJ,EAAgB,QACFA,EAAA,MAAM,UAAYA,EAAgB,MAAM,aAC1D,myBCzBeO,EAAA,EAAAC,EAAA,MAAAC,EAAA"}
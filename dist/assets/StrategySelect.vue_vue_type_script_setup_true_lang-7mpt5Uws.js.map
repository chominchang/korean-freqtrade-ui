{"version":3,"file":"StrategySelect.vue_vue_type_script_setup_true_lang-7mpt5Uws.js","sources":["../../src/components/ftbot/TimeframeSelect.vue","../../src/components/ftbot/StrategySelect.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\ninterface Props {\r\n  value?: string;\r\n  belowTimeframe?: string;\r\n  size?: undefined | 'small' | 'large';\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  value: '',\r\n  belowTimeframe: '',\r\n  size: undefined,\r\n});\r\nconst emit = defineEmits<{ input: [value: string] }>();\r\n\r\nconst selectedTimeframe = ref('');\r\n// The below list must always remain sorted correctly!\r\nconst availableTimeframesBase = [\r\n  // Placeholder value\r\n  { value: '', text: 'Use strategy default' },\r\n  '1m',\r\n  '3m',\r\n  '5m',\r\n  '15m',\r\n  '30m',\r\n  '1h',\r\n  '2h',\r\n  '4h',\r\n  '6h',\r\n  '8h',\r\n  '12h',\r\n  '1d',\r\n  '3d',\r\n  '1w',\r\n  '2w',\r\n  '1M',\r\n  '1y',\r\n];\r\n\r\nconst availableTimeframes = computed(() => {\r\n  if (!props.belowTimeframe) {\r\n    return availableTimeframesBase;\r\n  }\r\n  const idx = availableTimeframesBase.findIndex((v) => v === props.belowTimeframe);\r\n\r\n  return [...availableTimeframesBase].splice(0, idx);\r\n});\r\n\r\nconst emitSelectedTimeframe = () => {\r\n  emit('input', selectedTimeframe.value);\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Select\r\n    v-model=\"selectedTimeframe\"\r\n    placeholder=\"Use strategy default\"\r\n    :option-label=\"(option) => option.text || option\"\r\n    :option-value=\"(option) => option.value ?? option\"\r\n    :size=\"size\"\r\n    :options=\"availableTimeframes\"\r\n    @change=\"emitSelectedTimeframe\"\r\n  ></Select>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { useBotStore } from '@/stores/ftbotwrapper';\r\n\r\nconst props = defineProps({\r\n  modelValue: { type: String, required: true },\r\n  showDetails: { default: false, required: false, type: Boolean },\r\n});\r\nconst emit = defineEmits<{ 'update:modelValue': [value: string] }>();\r\n\r\nconst botStore = useBotStore();\r\n\r\nconst strategyCode = computed((): string => botStore.activeBot.strategy?.code);\r\nconst locStrategy = computed({\r\n  get() {\r\n    return props.modelValue;\r\n  },\r\n  set(strategy: string) {\r\n    botStore.activeBot.getStrategy(strategy);\r\n    emit('update:modelValue', strategy);\r\n  },\r\n});\r\n\r\nonMounted(() => {\r\n  if (botStore.activeBot.strategyList.length === 0) {\r\n    botStore.activeBot.getStrategyList();\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"w-full flex\">\r\n      <Select\r\n        id=\"strategy-select\"\r\n        v-model=\"locStrategy\"\r\n        filter\r\n        fluid\r\n        :options=\"botStore.activeBot.strategyList\"\r\n      >\r\n      </Select>\r\n      <div class=\"ms-1\">\r\n        <Button severity=\"secondary\" variant=\"outlined\" @click=\"botStore.activeBot.getStrategyList\">\r\n          <template #icon>\r\n            <i-mdi-refresh />\r\n          </template>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n\r\n    <textarea\r\n      v-if=\"showDetails && botStore.activeBot.strategy\"\r\n      v-model=\"strategyCode\"\r\n      class=\"w-full h-full\"\r\n    ></textarea>\r\n  </div>\r\n</template>\r\n"],"names":["props","__props","emit","__emit","selectedTimeframe","ref","availableTimeframesBase","availableTimeframes","computed","idx","v","emitSelectedTimeframe","botStore","useBotStore","strategyCode","_a","locStrategy","strategy","onMounted"],"mappings":"sTAOA,MAAMA,EAAQC,EAKRC,EAAOC,EAEPC,EAAoBC,EAAI,EAAE,EAE1BC,EAA0B,CAE9B,CAAE,MAAO,GAAI,KAAM,sBAAuB,EAC1C,KACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,IACF,EAEMC,EAAsBC,EAAS,IAAM,CACrC,GAAA,CAACR,EAAM,eACF,OAAAM,EAET,MAAMG,EAAMH,EAAwB,UAAWI,GAAMA,IAAMV,EAAM,cAAc,EAE/E,MAAO,CAAC,GAAGM,CAAuB,EAAE,OAAO,EAAGG,CAAG,CAAA,CAClD,EAEKE,EAAwB,IAAM,CAC7BT,EAAA,QAASE,EAAkB,KAAK,CACvC,khBC9CA,MAAMJ,EAAQC,EAIRC,EAAOC,EAEPS,EAAWC,EAAY,EAEvBC,EAAeN,EAAS,IAAA,OAAc,OAAAO,EAAAH,EAAS,UAAU,WAAnB,YAAAG,EAA6B,KAAI,EACvEC,EAAcR,EAAS,CAC3B,KAAM,CACJ,OAAOR,EAAM,UACf,EACA,IAAIiB,EAAkB,CACXL,EAAA,UAAU,YAAYK,CAAQ,EACvCf,EAAK,oBAAqBe,CAAQ,CAAA,CACpC,CACD,EAED,OAAAC,EAAU,IAAM,CACVN,EAAS,UAAU,aAAa,SAAW,GAC7CA,EAAS,UAAU,gBAAgB,CACrC,CACD"}
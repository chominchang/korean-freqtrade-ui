{"version":3,"file":"InfoBox.vue_vue_type_script_setup_true_lang-BoagT56j.js","sources":["../../src/components/general/DateTimeTZ.vue","../../src/components/general/ProfitSymbol.vue","../../src/components/general/ProfitPill.vue","../../src/components/ftbot/TradeProfit.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nconst props = defineProps({\r\n  date: { required: true, type: Number },\r\n  showTimezone: { required: false, type: Boolean, default: false },\r\n  dateOnly: { required: false, type: Boolean, default: false },\r\n});\r\nconst formattedDate = computed((): string => {\r\n  if (props.dateOnly) {\r\n    return timestampToDateString(props.date);\r\n  }\r\n  if (props.showTimezone) {\r\n    return timestampmsWithTimezone(props.date);\r\n  }\r\n  return timestampmsOrNa(props.date);\r\n});\r\n\r\nconst timezoneTooltip = computed((): string => {\r\n  const time1 = timestampmsWithTimezone(props.date);\r\n  const timeUTC = timestampmsWithTimezone(props.date, 'UTC');\r\n  if (time1 === timeUTC) {\r\n    return timeUTC;\r\n  }\r\n\r\n  return `${time1}\\n${timeUTC}`;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <span :title=\"timezoneTooltip\">{{ formattedDate }}</span>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nconst props = defineProps({\r\n  profit: { type: Number, required: true },\r\n});\r\nconst isProfitable = computed(() => {\r\n  return props.profit > 0;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div class=\"d-inline-block\">\r\n    <div :class=\"isProfitable ? 'triangle-up' : 'triangle-down'\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"css\">\r\n.triangle-up {\r\n  width: 0;\r\n  height: 0;\r\n  border-style: solid;\r\n  border-width: 0 0.45rem 0.7rem 0.45rem;\r\n  border-color: transparent transparent var(--color-profit) transparent;\r\n}\r\n.triangle-down {\r\n  width: 0;\r\n  height: 0;\r\n  border-style: solid;\r\n  border-width: 0.7rem 0.45rem 0 0.45rem;\r\n  border-color: var(--color-loss) transparent transparent transparent;\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nconst props = defineProps<{\r\n  profitRatio?: number;\r\n  profitAbs?: number;\r\n  stakeCurrency: string;\r\n  profitDesc?: string;\r\n}>();\r\nconst isProfitable = computed(() => {\r\n  return (\r\n    (props.profitRatio !== undefined && props.profitRatio > 0) ||\r\n    (props.profitRatio === undefined && props.profitAbs !== undefined && props.profitAbs > 0)\r\n  );\r\n});\r\n\r\nconst profitString = computed((): string => {\r\n  if (props.profitRatio !== undefined && props.profitAbs !== undefined) {\r\n    return `(${formatPrice(props.profitAbs, 3)})`;\r\n  } else if (props.profitAbs !== undefined) {\r\n    if (props.stakeCurrency !== undefined) {\r\n      return `${formatPriceCurrency(props.profitAbs, props.stakeCurrency, 3)}`;\r\n    } else {\r\n      return `${formatPrice(props.profitAbs, 3)}`;\r\n    }\r\n  }\r\n  return '';\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"flex justify-between items-center profit-pill ps-2 pe-1\"\r\n    :class=\"{ 'profit-pill-profit': isProfitable }\"\r\n    :title=\"profitDesc\"\r\n  >\r\n    <ProfitSymbol :profit=\"(profitRatio || profitAbs) ?? 0\" />\r\n\r\n    <div class=\"flex justify-center items-center grow\">\r\n      {{ profitRatio !== undefined ? formatPercent(profitRatio, 2) : '' }}\r\n      <span\r\n        v-if=\"profitString\"\r\n        class=\"ms-1\"\r\n        :class=\"profitRatio ? 'small' : ''\"\r\n        :title=\"stakeCurrency\"\r\n        >{{ profitString }}</span\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"css\">\r\n.profit-pill {\r\n  border: 2px solid var(--color-loss);\r\n  border-radius: 6px;\r\n}\r\n.profit-pill-profit {\r\n  border: 2px solid var(--color-profit);\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport type { Trade } from '@/types';\r\n\r\ntype modes = 'default' | 'total' | 'realized';\r\n\r\nconst props = defineProps({\r\n  trade: { required: true, type: Object as () => Trade },\r\n  mode: {\r\n    required: false,\r\n    default: 'default',\r\n    type: String as PropType<modes>,\r\n  },\r\n});\r\n\r\nconst modeDescs: { [key in modes]: string } = {\r\n  default: '현재 수익',\r\n  total: '총 수익',\r\n  realized: '실현 수익',\r\n};\r\n\r\nconst profitRatio = computed<number | undefined>(() => {\r\n  switch (props.mode) {\r\n    case 'default':\r\n      return props.trade.profit_ratio;\r\n    case 'total':\r\n      return props.trade.total_profit_ratio;\r\n    case 'realized':\r\n      return props.trade.realized_profit_ratio;\r\n    default:\r\n      return undefined;\r\n  }\r\n});\r\nconst profitAbs = computed<number | undefined>(() => {\r\n  switch (props.mode) {\r\n    case 'default':\r\n      return props.trade.profit_abs;\r\n    case 'total':\r\n      return props.trade.total_profit_abs;\r\n    case 'realized':\r\n      return props.trade.realized_profit;\r\n    default:\r\n      return undefined;\r\n  }\r\n});\r\nconst profitDesc = computed((): string => {\r\n  let profit = `${modeDescs[props.mode]}: ${\r\n    profitRatio.value ? formatPercent(profitRatio.value) : ''\r\n  } (${profitAbs.value})`;\r\n  profit += `\\n시작 시간: ${timestampms(props.trade.open_timestamp)}`;\r\n  return profit;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <ProfitPill\r\n    :profit-ratio=\"profitRatio\"\r\n    :profit-abs=\"profitAbs\"\r\n    :profit-desc=\"profitDesc\"\r\n    :stake-currency=\"trade.quote_currency || 'USDT'\"\r\n  />\r\n</template>\r\n"],"names":["props","__props","formattedDate","computed","timestampToDateString","timestampmsWithTimezone","timestampmsOrNa","timezoneTooltip","time1","timeUTC","isProfitable","profitString","formatPrice","formatPriceCurrency","modeDescs","profitRatio","profitAbs","profitDesc","profit","formatPercent","timestampms"],"mappings":"oXACA,MAAMA,EAAQC,EAKRC,EAAgBC,EAAS,IACzBH,EAAM,SACDI,EAAsBJ,EAAM,IAAI,EAErCA,EAAM,aACDK,EAAwBL,EAAM,IAAI,EAEpCM,EAAgBN,EAAM,IAAI,CAClC,EAEKO,EAAkBJ,EAAS,IAAc,CACvC,MAAAK,EAAQH,EAAwBL,EAAM,IAAI,EAC1CS,EAAUJ,EAAwBL,EAAM,KAAM,KAAK,EACzD,OAAIQ,IAAUC,EACLA,EAGF,GAAGD,CAAK;AAAA,EAAKC,CAAO,EAAA,CAC5B,mKCvBD,MAAMT,EAAQC,EAGRS,EAAeP,EAAS,IACrBH,EAAM,OAAS,CACvB,2TCLD,MAAMA,EAAQC,EAMRS,EAAeP,EAAS,IAEzBH,EAAM,cAAgB,QAAaA,EAAM,YAAc,GACvDA,EAAM,cAAgB,QAAaA,EAAM,YAAc,QAAaA,EAAM,UAAY,CAE1F,EAEKW,EAAeR,EAAS,IACxBH,EAAM,cAAgB,QAAaA,EAAM,YAAc,OAClD,IAAIY,EAAYZ,EAAM,UAAW,CAAC,CAAC,IACjCA,EAAM,YAAc,OACzBA,EAAM,gBAAkB,OACnB,GAAGa,EAAoBb,EAAM,UAAWA,EAAM,cAAe,CAAC,CAAC,GAE/D,GAAGY,EAAYZ,EAAM,UAAW,CAAC,CAAC,GAGtC,EACR,unBCpBD,MAAMA,EAAQC,EASRa,EAAwC,CAC5C,QAAS,QACT,MAAO,OACP,SAAU,OACZ,EAEMC,EAAcZ,EAA6B,IAAM,CACrD,OAAQH,EAAM,KAAM,CAClB,IAAK,UACH,OAAOA,EAAM,MAAM,aACrB,IAAK,QACH,OAAOA,EAAM,MAAM,mBACrB,IAAK,WACH,OAAOA,EAAM,MAAM,sBACrB,QACS,MAAA,CACX,CACD,EACKgB,EAAYb,EAA6B,IAAM,CACnD,OAAQH,EAAM,KAAM,CAClB,IAAK,UACH,OAAOA,EAAM,MAAM,WACrB,IAAK,QACH,OAAOA,EAAM,MAAM,iBACrB,IAAK,WACH,OAAOA,EAAM,MAAM,gBACrB,QACS,MAAA,CACX,CACD,EACKiB,EAAad,EAAS,IAAc,CACxC,IAAIe,EAAS,GAAGJ,EAAUd,EAAM,IAAI,CAAC,KACnCe,EAAY,MAAQI,EAAcJ,EAAY,KAAK,EAAI,EACzD,KAAKC,EAAU,KAAK,IACV,OAAAE,GAAA;AAAA,SAAYE,EAAYpB,EAAM,MAAM,cAAc,CAAC,GACtDkB,CAAA,CACR"}